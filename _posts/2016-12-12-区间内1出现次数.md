---
layout: post
category: 算法
summary: 求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是区间大一点怎么求呢？
title: 区间内1出现次数
date: 2016-12-12 20:55:43
tags: algorithm
toc: true
comments: true
---
{% include JB/setup %}


**Overview**

{{ page.summary }}

# 题目描述

求出1~13的整数中1出现的次数,并算出100~1300的整数中1出现的次数？为此他特别数了一下1~13中包含1的数字有1、10、11、12、13因此共出现6次,但是对于后面问题他就没辙了。ACMer希望你们帮帮他,并把问题更加普遍化,可以很快的求出任意非负整数区间中1出现的次数。
<!--more-->

# 解题思路

刚开始没理解清楚题目的意思，理解题目很关键。

题目描述里面说1-13 区间里面包含1 的有 1，10 ，11，12，13这五个数字，但是1出现了6次，因为11中有两个1。看来是我理解错了，我之前以为是求这个区间里面包含1的数字的个数，那这样的话，1-13里面只有五个了。

所以我刚开始看到网上讲解时，看到它是分别求个位，十位，百位等上面为1的可能次数相加之和，当时就想会不会有重复的，现在想想，这样刚好不重复，比如在1-13里面，个位为1 和十位为1 都有11，但是这样相加并没重复的。

那么现在的问题就是求一个区间，上面每个位上面为1可能出现的次数。



举个例子吧，我们看十位上面为1的个数。

1.  1118这个数字，因为十位就是1，所以，高位是任意数字，还有地位是任意数字他都有1，高位是11，地位是8， 可以分为两个区间，在0-1110这个区间，前面的高位可以是0-10 任意数字和后面地位的0-9任意数字，或者前面高位是11 然后后面低位为0 ，而在1111-1118这个区间，还有8个让十位为1的，所以次数就是11*10+1+8.

2.  1128这个数字，十位是2，所以这个区间如果让十位为1，只能算到0-1119这个区间里面十位为1的个数。也就是高位是0-11随意，低位时0-9随意。所以这样情况出现次数就是（11+1）*10=120.

3.  1108这个数字，十位是0，所以如果十位为1，只能算到0-1019这个地方。次数应该是11*10=110.

      所以应该可以看出来了，当前位为1，则，高位*当前位权重+低位+1。

      当前位大于1，则（高位+1）*当前位权重。

      当前位小于1，则高位*当前位权重。

代码如下：


```JAVA
public int NumberOf1Between1AndN_Solution(int n) {

    int i=1;
    int total=0;

    int hight;
    do{
         hight=n/(int)Math.pow(10,i);
        int temp=n%(int)Math.pow(10,i);
        int curr=temp/(int)Math.pow(10,i-1);
        int low=temp%(int)Math.pow(10,i-1);
        if (curr==1){
            total+=hight*(int)Math.pow(10,i-1)+low+1;

        }
        else if(curr<1){
            total+=hight*(int)Math.pow(10,i-1);
        }
        else if(curr>1){
            total+=(hight+1)*(int)Math.pow(10,i-1);

        }
        i++;
    }
    while (hight!=0);
    return total;
}
```

# 扩展

以上思路可以扩展到区间内x出现的次数。
