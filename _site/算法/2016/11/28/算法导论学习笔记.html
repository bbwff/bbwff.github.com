

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>算法导论学习笔记</title>
    
    <meta name="author" content="bbw">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css" rel="stylesheet" type="text/css" media="all">

    <!-- code highlighting-->
    <link href="/assets/google-code-prettify/desert.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images -->
    <link rel="shortcut icon" href="/img/logo.ico">
   <!-- <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

  </head>

  <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
    <div class="container">

          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="/">bbw's blog</a>
          <div class="nav-collapse collapse">
            <ul class="nav nav-nav" id="main-nav">
              
              

             


  
    
      
    
  
    
      
      	
      	<li><a href="/archive">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories">Categories</a></li>
      	
      
    
  
    
  
    
      
      	
      	<li><a href="/pages">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags">Tags</a></li>
      	
      
    
  



      <li><a href="/about">About</a></li>
            </ul>

          </div>

</div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        

<div class="span9">
  <div class="page-header">
    <h1>算法导论学习笔记 </h1>
  </div>

  
    <ul class="tag_box inline">
      <li><i class="icon-folder-open"></i></li>
      
      


  
     
    	<li><a href="/categories.html#算法-ref">
    		算法 (4)
    	</a></li>
    
  



    </ul>
    

  
    <ul class="tag_box inline">
      <li><i class="icon-tags"></i></li>
      
      


  
     
    	<li><a href="/tags.html#algorithm-ref">algorithm <span>4</span></a></li>
    
  



    </ul>
  
  <hr>

  <div class="row-fluid post-full">
    <div class="span12">
      <div class="date">
        <span>28 November 2016</strong>
      </div>
      <div class="content">
        
<p><strong>Overview</strong></p>

<p>最近在看算法导论，想记录一个读书笔记之类的东西自己看。就是会记载的很乱，写的很随意，自己看，反正这个博客也不会公开，hhhh。</p>

<h2 id="第二章-算法入门">第二章-算法入门</h2>

<p>算法这种东西，有些思想是比较简单的，最好是把算法写成代码实现。</p>

<p>第二章在讲算法设计这里，讲了一个分治法，就是把大化小，也就是递归那种，最后在合并，在排序里面就是递归归并排序，代码里面有一个小细节，就是哨兵。在归并排序里面哨兵就是会放在要归并的数组的最后位置，一般是一个无穷大，如果是升序，就设置正无穷，降序就设置为负无穷，这样的话，就不用判断归并时候两个数组到底是不是非空了。代码比较简洁，算是代码实现的小技巧了。</p>

<!--more-->

<p>下面是我写的分治法排序的代码，是递归归并排序。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>package Introduction2Algorithms.chapter2;
import java.io.Console;
/**
 * Created by bbw on 2016/11/28.
 */
//采用递归也就是分治法
public class mergeSort {
 static    void merge(int [] a,int p,int q, int r){
        int l1=q-p+1;
        int l2=r-q;
        int[]a1=new int[l1+1];
        int[]a2=new int[l2+1];
        for (int i=0;i&lt;l1;i++){
            a1[i]=a[p+i];
        }
        //此处是一个哨兵，无穷大的
        a1[l1]=Integer.MAX_VALUE;
        for (int i=0;i&lt;l2;i++){
            a2[i]=a[q+1+i];
        }
        //此处是一个哨兵，无穷大的
        a2[l2]=Integer.MAX_VALUE;

        int i1=0;
        int i2=0;

//此处出现过bug，就是我把i从0开始了，应该是从p开始
        for (int i=p;i&lt;=r;i++){
            if (a1[i1]&lt;a2[i2]) {
                a[i] = a1[i1];
                i1++;
            }
            else {
                a[i] = a2[i2];
                i2++;
            }
        }
    }

    static void mergeSort(int[]a,int p,int q){

        if (p&lt;q){
            int t=(p+q)/2;
            mergeSort(a,p,t);
            mergeSort(a,t+1,q);
            merge(a,p,t,q);
        }
    }

    public static void main(String[] args)
    {
        int[] x = { 6, 2, 4, 1, 5, 9 };
        mergeSort(x,0,x.length-1);
        for (int i:x){
            System.out.println(i);
        }
    }
}
</code></pre>
</div>

<p>这个代码挺简单的，但是我居然中间出了bug，就是数组的边界没搞好，导致数据混乱。这里面的哨兵比较方便，但就只是浪费了一个空间，代价不大，代码比较简洁。</p>

<p>再说下怎么算时间复杂度，因为每个mergeSort都是拆成两个一半数量级的mergeSort加一个merge。merge的时间复杂度是Cn.</p>

<p>所以T(n)=2T(n/2)+cn。</p>

<p>然后一般这种时间复杂度就是按照递归拆开，可以拆成logN层。然后每一层都有一个cn，拆logN次就有 CnLogN，然后  那个 logN.T(1)就被舍去，时间复杂度就是O(nlogN)。具体类似递归时间复杂度计算方法看<a href="http://blog.csdn.net/xiaoxian8023/article/details/8134260">这个网页</a>。</p>

<p>下面是一道利用归并排序求逆序对的题目。</p>

<p><strong>题目描述</strong></p>

<p>在数组中的两个数字，如果前面一个数字大于后面的数字，则这两个数字组成一个逆序对。输入一个数组,求出这个数组中的逆序对的总数P。并将P对1000000007取模的结果输出。 即输出P%1000000007 </p>

<p><strong>输入描述:</strong></p>

<p>题目保证输入的数组中没有的相同的数字</p>

<p>数据范围：</p>

<p>​	对于%50的数据,size&lt;=10^4</p>

<p>​	对于%75的数据,size&lt;=10^5</p>

<p>​	对于%100的数据,size&lt;=2*10^5</p>

<p><strong>输入例子:</strong></p>

<p>1,2,3,4,5,6,7,0</p>

<p><strong>输出例子:</strong></p>

<p>7</p>

<p>代码如下所示，不过<code class="highlighter-rouge">count</code>需要声明为long类型，因为使用int会溢出。java里面的int类型为32位，范围大概为4.29*pow(10,9)，也就是正负二十多亿。而题目中取模就是取十亿，所以很容易就会越界，所以以后这种题目，一定要会使用long类型，而不是一味的int。
<code class="highlighter-rouge">代码的重点</code>是每次前面比后面大，count 就加前面剩余的个数。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {

     public long count=0;
    public     void merge(int [] a,int p,int q, int r){
        int l1=q-p+1;
        int l2=r-q;
        int[]a1=new int[l1+1];
        int[]a2=new int[l2+1];
        for (int i=0;i&lt;l1;i++){
            a1[i]=a[p+i];
        }
        a1[l1]=Integer.MAX_VALUE;
        for (int i=0;i&lt;l2;i++){
            a2[i]=a[q+1+i];
        }
        a2[l2]=Integer.MAX_VALUE;
    
        int i1=0;
        int i2=0;
       //此处边界搞错了,我去.
        for (int i=p;i&lt;=r;i++){
            if (a1[i1]&lt;a2[i2]) {
                a[i] = a1[i1++];
            }
            else {
                a[i] = a2[i2++];
                count+=l1-i1;
    
            } 
   }
}
    public void mergeSort(int[]a,int p,int q){
    
        if (p&lt;q){
            int t=(p+q)/2;
            mergeSort(a,p,t);
            mergeSort(a,t+1,q);
            merge(a,p,t,q);
    
        }
    }
    public int InversePairs(int [] array) {
        mergeSort(array,0,array.length-1);
        return (int)(count%1000000007);
    
    }
}

</code></pre>
</div>


      </div>
 
      <hr>
        <div class="pagination">
          <ul>
          
            <li class="prev"><a href="/java/2016/11/17/Jvm-%E7%9B%B8%E5%85%B3" title="Jvm 相关">&larr; Previous</a></li>
          
            <li><a href="/archive.html">Archive</a></li>
          
            <li class="next"><a href="/%E7%AE%97%E6%B3%95/2016/12/12/%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%85%A8%E6%8E%92%E5%88%97-JAVA" title="字符串全排列">Next &rarr;</a></li>
          
          </ul>
        </div>
      <hr>
 <!-- JiaThis Button BEGIN -->
<div class="jiathis_style_24x24">
	<a class="jiathis_button_weixin"></a>
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_qzone"></a>
	<a class="jiathis_button_fb"></a>
	<a class="jiathis_button_googleplus"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code_mini/jia.js" charset="utf-8"></script>
<br><hr>
<!-- JiaThis Button END -->

      


  <!-- Duoshuo Comment BEGIN -->
  <div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:'bbw'};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'https://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- Duoshuo Comment END -->





    </div>
  </div>
</div>
<div class="span3">
  <div class="well sidebar-nav">
  <div class="content">
    <p style="text-align:center;">
      <img src="/img/smg.jpg" alt="myself" width="120"> 
    </p>
  </div>
  <HR>
  <ul class="nav nav-list">
    <li class="nav-header">Categories</li>
      
      


  
     
    	<li><a href="/categories.html#test-ref">
    		test (1)
    	</a></li>
     
    	<li><a href="/categories.html#环境配置-ref">
    		环境配置 (1)
    	</a></li>
     
    	<li><a href="/categories.html#科研相关-ref">
    		科研相关 (1)
    	</a></li>
     
    	<li><a href="/categories.html#java-ref">
    		java (2)
    	</a></li>
     
    	<li><a href="/categories.html#算法-ref">
    		算法 (4)
    	</a></li>
     
    	<li><a href="/categories.html#spark-ref">
    		spark (1)
    	</a></li>
    
  



    <li class="nav-header">Tags</li>
      
      


  
     
    	<li><a href="/tags.html#test-ref">test <span>(1)</span></a></li>
     
    	<li><a href="/tags.html#env-ref">env <span>(1)</span></a></li>
     
    	<li><a href="/tags.html#related-ref">related <span>(1)</span></a></li>
     
    	<li><a href="/tags.html#java-ref">java <span>(2)</span></a></li>
     
    	<li><a href="/tags.html#algorithm-ref">algorithm <span>(4)</span></a></li>
     
    	<li><a href="/tags.html#spark-ref">spark <span>(1)</span></a></li>
    
  



    <li class="nav-header">Links</li>
    <li><a href="http://www.ruanyifeng.com/blog/">阮一峰的网络日志</a></li>
    <li><a href="http://mindhacks.cn/">刘未鹏</a></li>
    <li><a href="http://coolshell.cn/">酷壳</a></li>
    <li><a href="http://dplord.com/">dplord</a></li>
</ul>
  
</div>

</div>


      </div> <!--/.row-->

      <hr>
      <footer>
        <p align="center" >&copy; 2016 <i class="fa fa-heart"></i> bbw
  <!--        with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>-->
<!--          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>-->
<link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">

<a href="https://github.com" class="fa fa-github"></a>
<a href="https://twitter.com" class="fa fa-twitter"></a>
<a href="https://facebook.com" class="fa fa-facebook"></a>




 </p>
      </footer>
    </div>

<!-- code highlighting -->

<script type="text/javascript" src="http://lib.sinaapp.com/js/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/google-code-prettify/prettify.js"></script>
    <script type="text/javascript">
      !function ($) {
        $(function(){
            $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto');
            window.prettyPrint && prettyPrint();
        });
      }(window.jQuery);
    </script>
    <!-- math function -->
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    

  </body>
</html>

